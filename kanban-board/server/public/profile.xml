<alps
  version="1.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="https://alps-io.github.io/schemas/alps.xsd">

  <doc>
    This document defines the application semantics for the Kanban Board API.
  </doc>
  
  <!-- shared descriptors -->
  <descriptor id="description" type="semantic">
    <doc>Human-readable text describing the work to be done</doc>
  </descriptor>
  <descriptor id="stage" type="semantic">
    <doc>Describes where in the process this work item currently is</doc>
  </descriptor>
  <descriptor id="profile"
              type="safe"
              def="https://www.rfc-editor.org/rfc/rfc6906.html" />

  <!-- entity classes -->
  <descriptor id="Card">
    <!-- properties -->
    <descriptor href="#description" />
    <descriptor href="#stage" />

		<!-- link relations -->
	  <descriptor id="collection"
						    type="safe"
						    rt="#KanbanBoard"
						    def="https://www.rfc-editor.org/rfc/rfc6573.html" />
    <descriptor id="blocked-by" type="safe" rt="#Card">
		  <doc>Refers to a card that is blocking this card from being completed.</doc>
		</descriptor>
    <descriptor href="#profile" />
  
    <!-- actions -->
	  <descriptor id="move-to-next-stage" type="idempotent" rt="#Card">
	    <doc>
        Moves the card to the next stage. Only available on cards that are
        not in the last stage.
      </doc>
	    <!-- fields -->
	    <descriptor href="#description" />
	    <descriptor href="#stage" />
	  </descriptor>
	  <descriptor id="move-to-previous-stage" type="idempotent" rt="#Card">
	    <doc>
        Moves the card to the previous stage. Only available on cards that
        are not in the first stage.
      </doc>
	    <!-- fields -->
	    <descriptor href="#description" />
	    <descriptor href="#stage" />
	  </descriptor>
  </descriptor>

  <descriptor id="KanbanBoard" type="semantic">
		<!-- links relations -->
    <descriptor id="item"
                type="safe"
                rt="#Card"
                def="https://www.rfc-editor.org/rfc/rfc6573.html" />
    <descriptor href="#profile" />

		<!-- action names -->
	  <descriptor id="create-card" type="unsafe" rt="#Card">
	    <doc>Creates a new card</doc>
	    <descriptor href="#description" />
	    <descriptor href="#stage" />
	  </descriptor>
  </descriptor>
</alps>